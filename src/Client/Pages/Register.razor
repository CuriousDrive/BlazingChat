@page "/register"
@using BlazingChat.ViewModels
@inject IRegisterViewModel _registerViewModel
@inject NavigationManager _navigationManager

<h2><b>Register</b></h2>
<hr>

<div class="col-xl-6 col-md-8 col-12">
    <input type="text" @bind="_registerViewModel.EmailAddress" class="form-control" placeholder="email address">
</div>
<br />
<div class="col-xl-6 col-md-8 col-12">
    <input type="password" @bind="_registerViewModel.Password" class="form-control" placeholder="password">
</div>
<br />
<div class="col-xl-6 col-md-8 col-12">
    <input type="password" @bind="_registerViewModel.ReenterPassword" class="form-control" placeholder="reenter password">
</div>
<br />
<div class="col-xl-6 col-md-8 col-12">
    <button class="btn btn-danger" @onclick="RegisterUser">Register</button>
    &nbsp;
    <a style="font-weight: bold;" href="">I already have an account</a>
</div>
<hr />
<div class="col-xl-6 col-md-8 col-12">
    <a class="btn btn-block btn-social btn-twitter" @onclick="TwitterSignIn" href="">
        <span class="fa fa-twitter"></span> <b>Sign in with Twitter</b>
    </a>
</div>
<br />
<div class="col-xl-6 col-md-8 col-12">
    <a class="btn btn-block btn-social btn-facebook" @onclick="FacebookSignIn" href="">
        <span class="fa fa-facebook"></span> <b>Sign in with Facebook</b>
    </a>
</div>
<br />
<div class="col-xl-6 col-md-8 col-12">
    <a class="btn btn-block btn-social btn-google" @onclick="GoogleSignIn" href="">
        <span class="fa fa-google"></span> <b>Sign in with Google</b>
    </a>
</div>

@code {
    public async Task RegisterUser()
    {
        await _registerViewModel.RegisterUser();
        _navigationManager.NavigateTo("/",true);
    }

    private void TwitterSignIn()
    {
        _navigationManager.NavigateTo("user/TwitterSignIn", true);
    }

    private void FacebookSignIn()
    {
        _navigationManager.NavigateTo("user/FacebookSignIn", true);
    }

    private void GoogleSignIn()
    {
        _navigationManager.NavigateTo("user/GoogleSignIn", true);
    }
}